{"version":3,"sources":["webpack:///./src/pages/portfolio.js"],"names":["query","IndexPage","data","cat","prismic","allCategoriess","edges","slice","pop","className","styles","portfolio","hero","intro_text","RichText","render","node","title","subtitle","excerpt","portfolio_inner","portfolio_category","join","allPortfolio_items","map","slug","_meta","uid","portfolio_block","to","link","Tag","image","fluid","main_imageSharp","childImageSharp","backgroundColor"],"mappings":"qQA0EaA,EAAK,aAoCHC,UAtGG,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAEbC,EAAMD,EAAKE,QAAQC,eAAeC,MAAMC,MAAM,EAAE,GAAGC,MACzD,OAAKL,EAIH,kBAAC,IAAD,KAEE,6BAASM,UAAWC,IAAOC,WAEzB,yBAAKF,UAAWC,IAAOE,MAErB,yBAAKH,UAAWC,IAAOG,YAErB,kBAAC,IAAD,MAECC,WAASC,OAAOZ,EAAIa,KAAKC,OACzBH,WAASC,OAAOZ,EAAIa,KAAKE,UACzBJ,WAASC,OAAOZ,EAAIa,KAAKG,WAM9B,yBAAKV,UAAW,CAACC,IAAOU,gBAAiBV,IAAOW,oBAAoBC,KAAK,MAEtEpB,EAAKE,QAAQmB,mBAAmBjB,MAAMkB,KAAI,SAAAb,GAEzC,IAAIc,EAAI,cAAiBd,EAAUK,KAAKU,MAAMC,IAE9C,OACE,6BAASlB,UAAWC,IAAOkB,iBAEzB,kBAAC,OAAD,CAAMC,GAAIJ,EAAMhB,UAAWC,IAAOoB,MAEhC,kBAAC,IAAD,CACEC,IAAI,UACJtB,UAAWC,IAAOsB,MAClBC,MAAOtB,EAAUK,KAAKkB,gBAAgBC,gBAAgBF,MACtDG,gBAAe,aAMnB,kBAAC,OAAD,CAAMP,GAAIJ,EAAMhB,UAAWC,IAAOoB,MAC/BhB,WAASC,OAAOJ,EAAUK,KAAKC,QAGjCH,WAASC,OAAOJ,EAAUK,KAAKE,iBA/C7B","file":"component---src-pages-portfolio-js-3dedaa1ef2235927096d.js","sourcesContent":["import React from \"react\";\r\nimport { graphql, Link } from \"gatsby\";\r\nimport { RichText } from \"prismic-reactjs\";\r\nimport styles from \"../styles/modules/portfolio.module.scss\";\r\nimport BackgroundImage from 'gatsby-background-image';\r\nimport Menu from \"../components/menu\";\r\nimport Layout from \"../components/layout\";\r\n\r\nconst IndexPage = ({ data }) => {\r\n\r\n  const cat = data.prismic.allCategoriess.edges.slice(0,1).pop();\r\n  if (!cat) return null;\r\n  \r\n  return (\r\n\r\n    <Layout>\r\n        \r\n      <article className={styles.portfolio}>\r\n\r\n        <div className={styles.hero}>  \r\n\r\n          <div className={styles.intro_text}>\r\n\r\n            <Menu /> \r\n  \r\n            {RichText.render(cat.node.title)}\r\n            {RichText.render(cat.node.subtitle)}\r\n            {RichText.render(cat.node.excerpt)}\r\n  \r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className={[styles.portfolio_inner, styles.portfolio_category].join(' ')}>\r\n\r\n          {data.prismic.allPortfolio_items.edges.map(portfolio => {\r\n\r\n            let slug = `/portfolio/${portfolio.node._meta.uid}`;\r\n\r\n            return (\r\n              <article className={styles.portfolio_block}>\r\n                \r\n                <Link to={slug} className={styles.link}>\r\n\r\n                  <BackgroundImage \r\n                    Tag=\"section\"\r\n                    className={styles.image}\r\n                    fluid={portfolio.node.main_imageSharp.childImageSharp.fluid}\r\n                    backgroundColor={`#f2f2f2`}\r\n                    >\r\n                  </BackgroundImage>\r\n                \r\n                </Link>  \r\n\r\n                <Link to={slug} className={styles.link}>\r\n                  {RichText.render(portfolio.node.title)}\r\n                </Link>\r\n\r\n                {RichText.render(portfolio.node.subtitle)}\r\n\r\n              </article>\r\n            );\r\n\r\n          })}\r\n\r\n        </div>\r\n\r\n      </article>\r\n  \r\n    </Layout>\r\n\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  query getPortfolio {\r\n    prismic {\r\n      allPortfolio_items {\r\n        edges {\r\n          node {\r\n            title\r\n            subtitle\r\n            main_image\r\n            main_imageSharp {\r\n                childImageSharp {\r\n                  fluid(quality: 100, maxWidth: 960) {\r\n                    ...GatsbyImageSharpFluid_withWebp\r\n                  }\r\n                }\r\n            }\r\n            _meta {\r\n              uid\r\n              type\r\n            }\r\n          }\r\n        }\r\n      }\r\n      allCategoriess(uid: \"portfolio\") {\r\n        edges {\r\n          node {\r\n            title\r\n            subtitle\r\n            excerpt\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default IndexPage;\r\n"],"sourceRoot":""}